# AI机器人助手 - 项目总结

## 项目概述

这是一个基于 Next.js 14、Three.js 和智谱AI GLM-4 的3D沉浸式AI对话机器人网站。它支持语音交互、实时对话，具有科技感的3D机器人形象和丰富的表情动画系统。

## 主要特性

### 1. 3D科技感机器人
- **程序化建模**: 完全使用代码生成，无需外部模型文件
- **表情系统**: 5种表情（平静、开心、思考、聆听、说话）
- **动画效果**: 流畅的表情过渡、眨眼、点头、挥手
- **交互控制**: 支持鼠标/触摸屏旋转、缩放视角

### 2. 智能对话系统
- **AI引擎**: 集成智谱AI GLM-4模型
- **流式响应**: 实时显示AI回复内容
- **上下文记忆**: 保持多轮对话连续性
- **情感化回应**: 根据对话内容切换机器人表情

### 3. 语音交互
- **语音识别**: 中文语音转文字（Web Speech API）
- **语音合成**: 中文文字转语音（浏览器原生TTS）
- **实时对话**: 说话即可获得回复
- **静音控制**: 支持关闭语音输出

### 4. 现代化界面
- **暗色主题**: 科幻风格的深色配色
- **流畅动画**: Framer Motion驱动的UI动画
- **响应式布局**: 适配不同屏幕尺寸
- **玻璃拟态**: 现代的毛玻璃效果

## 技术架构

### 前端技术栈
```
- Next.js 14 (App Router)
- React 18 (Hooks + Context)
- TypeScript
- Tailwind CSS
- Framer Motion
- Zustand (状态管理)
```

### 3D渲染技术
```
- Three.js
- React Three Fiber
- @react-three/drei (工具库)
- @react-three/postprocessing (后期效果)
- ShaderMaterial (自定义着色器)
```

### AI与语音技术
```
- 智谱AI GLM-4 API
- Web Speech API (语音识别)
- Speech Synthesis API (语音合成)
```

## 文件统计

- **总文件数**: 26个
- **TypeScript文件**: 13个
- **配置文件**: 8个
- **文档文件**: 4个

## 快速开始

1. **安装依赖**
   \`\`\`bash
   npm install
   \`\`\`

2. **配置API密钥**
   - 复制 \`.env.example\` 为 \`.env.local\`
   - 填入智谱AI API密钥

3. **启动开发服务器**
   \`\`\`bash
   npm run dev
   \`\`\`

4. **访问应用**
   打开 http://localhost:3000

## 部署指南

### Vercel部署（推荐）
1. 将代码推送到GitHub
2. 在Vercel导入项目
3. 设置环境变量 \`ZHIPU_API_KEY\`
4. 部署

### 其他平台
项目兼容任何支持Next.js的托管平台，包括：
- Railway
- Netlify
- AWS Amplify
- 自建服务器

## 浏览器兼容性

### 完全支持
- Chrome 90+
- Edge 90+
- Safari 14.1+

### 部分支持
- Firefox（3D渲染支持，语音API有限制）

## 核心功能使用

### 语音对话
1. 点击底部麦克风按钮
2. 对着麦克风说话
3. 机器人会自动回复并朗读

### 文字对话
1. 在左侧对话框输入消息
2. 点击"发送"或按Enter
3. 查看机器人回复

### 3D交互
- 拖拽：旋转机器人
- 滚轮：缩放视角
- 查看：360度观察机器人

### 配置设置
- 点击右上角齿轮图标
- 配置API密钥
- 手动切换表情
- 查看统计信息
- 清空对话历史

## 定制开发

### 修改机器人外观
编辑 \`lib/robot/geometries.ts\`:
- 调整几何体尺寸
- 修改材质颜色
- 改变组件位置

### 添加新表情
1. 在 \`lib/robot/animations.ts\` 定义表情参数
2. 更新 \`types/index.ts\` 中的类型
3. 在UI组件中添加按钮

### 集成其他AI模型
编辑 \`lib/glm.ts\`:
- 修改API端点
- 调整请求参数
- 更新响应解析逻辑

## 性能优化

- **代码分割**: 按需加载组件
- **懒加载**: 3D模型延迟渲染
- **响应式图片**: 自动优化图片大小
- **缓存策略**: API响应缓存
- **压缩**: Vercel自动压缩资源

## 安全考虑

- API密钥存储在环境变量
- 不在客户端暴露敏感信息
- 输入验证和清理
- CORS配置

## 已知限制

1. **语音API**: 需要用户授权，部分浏览器不支持
2. **API费用**: 智谱AI有调用限制和费用
3. **离线功能**: 需要网络连接调用AI API
4. **移动端**: 3D渲染在低端设备上可能卡顿

## 未来规划

- [ ] 支持更多AI模型（Claude、GPT-4等）
- [ ] 添加机器人外观切换
- [ ] 实现手势识别
- [ ] 添加多场景环境
- [ ] 支持多语言界面
- [ ] 优化移动端性能
- [ ] 添加对话导出功能
- [ ] 实现用户认证系统
- [ ] 添加数据持久化

## 贡献指南

欢迎提交Issue和Pull Request！

1. Fork 项目
2. 创建特性分支
3. 提交更改
4. 推送到分支
5. 创建Pull Request

## 许可证

MIT License - 自由使用、修改和分发

## 联系方式

如有问题或建议，欢迎通过GitHub Issues联系。

---

**享受与AI机器人的对话体验！** 🤖✨
